<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>What&#8217;s New in Antora 2.2 :: Antora Docs</title>
    <link rel="canonical" href="https://docs.antora.org/antora/latest/whats-new.html">
    <link rel="prev" href="index.html">
    <link rel="next" href="features.html">
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/site-extra.css">
    <link rel="icon" href="../../favicon.ico" type="image/x-icon">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a href="https://antora.org">Antora</a>
        <span class="separator">//</span>
        <a href="https://docs.antora.org">Docs</a>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link">Projects</div>
          <div class="navbar-dropdown">
            <div class="navbar-item"><strong>Core</strong></div>
            <a class="navbar-item" href="https://gitlab.com/antora/antora">Repository</a>
            <a class="navbar-item" href="https://gitlab.com/antora/antora/issues">Issue Tracker</a>
            <hr class="navbar-divider">
            <div class="navbar-item"><strong>Default UI</strong></div>
            <a class="navbar-item" href="https://gitlab.com/antora/antora-ui-default">Repository</a>
            <a class="navbar-item" href="https://gitlab.com/antora/antora-ui-default/issues">Issue Tracker</a>
            <hr class="navbar-divider">
            <a class="navbar-item" href="https://gitlab.com/antora/antora/blob/main/contributing.adoc">Contributing</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link">Community</div>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://antora.zulipchat.com">Chat (Zulip)</a>
          </div>
        </div>
        <a class="navbar-item" href="https://twitter.com/antoraproject">
          <span class="icon">
            <svg aria-hidden="true" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
              <path fill="#57aaee" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
            </svg>
          </span>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="antora" data-version="2.2">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Antora</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="whats-new.html">What&#8217;s New in Antora 2.2</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="features.html">How Antora Can Help</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="how-antora-works.html">How Antora Works</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Antora</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="install/linux-requirements.html">Linux Requirements</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="install/macos-requirements.html">macOS Requirements</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="install/windows-requirements.html">Windows Requirements</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="install/install-antora.html">Install Antora</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="install/upgrade-antora.html">Upgrade Antora</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="install/supported-platforms.html">Supported Platforms</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="run-antora.html">Run Antora</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="run-antora.html#cache">About the Cache</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="run-antora.html#local-site-preview">Local Preview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="run-antora.html#publish-to-github-pages">Publish to GitHub Pages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="antora-container.html">Run Antora in a Container</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cli/index.html">CLI Reference</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">File Organization</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="component-structure.html">Documentation Components and Repositories</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="modules.html">Modules, Families, and Subdirectories</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="component-descriptor.html">Component Descriptor: antora.yml</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="component-versions.html">Component Versions and Branches</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="page/index.html">Pages</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="page/page-id.html">Antora Page ID</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="page/page-and-site-attributes.html">Page and Site Attributes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="page/create-standard-page.html">Create a Standard Page</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="page/page-aliases.html">Set Up URL Redirects with Page Aliases</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="asciidoc/page-header.html">Page Header</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="asciidoc/page-header.html#page-title">Title</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="asciidoc/page-header.html#page-meta">Metadata</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="asciidoc/page-header.html#page-attrs">Attributes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="asciidoc/section-headings.html">Page Sections</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="asciidoc/text-and-punctuation.html">Text and Punctuation Styles</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="asciidoc/bold.html">Bold</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="asciidoc/italic.html">Italic</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="asciidoc/monospace.html">Monospace</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="asciidoc/highlight.html">Highlight</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="asciidoc/quotes-and-apostrophes.html">Quote Marks and Apostrophes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="asciidoc/special-characters-and-symbols.html">Special Characters and Symbols</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="asciidoc/subscript-and-superscript.html">Subscript and Superscript</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Cross References and Links</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="asciidoc/page-to-page-xref.html">Page to Page Xrefs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="asciidoc/in-page-xref.html">Same Page Xrefs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="asciidoc/external-urls.html">URLs</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="asciidoc/lists.html">Lists</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="asciidoc/ordered-and-unordered-lists.html">Bullet and Numbered Lists</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="asciidoc/description-lists.html">Description Lists</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="asciidoc/checklists.html">Checklists</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Include Partials, Pages, and Examples</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="page/resource-id.html">Antora Resource ID</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="asciidoc/include-partial.html">Include a Partial</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="asciidoc/include-example.html">Include an Example</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="asciidoc/include-page.html">Include a Page</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="asciidoc/insert-image.html">Insert an Image</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="asciidoc/embed-video.html">Embed a Video</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="asciidoc/link-attachment.html">Link to an Attachment</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="asciidoc/ui-macros.html">UI Macros</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="asciidoc/admonitions.html">Admonitions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="asciidoc/examples.html">Examples</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="asciidoc/sidebar.html">Sidebars</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="asciidoc/comments.html">Comments</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="navigation/index.html">Navigation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="navigation/filenames-and-locations.html">Navigation File Names &amp; Storage Locations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="navigation/register-navigation-files.html">Navigation File Registration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="navigation/list-structures.html">Single &amp; Multi-list Navigation Files</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="navigation/link-syntax-and-content.html">Link Types &amp; Syntax</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="navigation/link-syntax-and-content.html#page">Page Links</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="navigation/link-syntax-and-content.html#resource">Attachment Links</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="navigation/link-syntax-and-content.html#urls">Other URI Links</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="navigation/link-syntax-and-content.html#content">Navigation Content &amp; Link Formatting</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="playbook/index.html">Playbook</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="playbook/playbook-schema.html">Configuration Schema</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="playbook/configure-site.html">Site</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="playbook/configure-content-sources.html">Content Sources</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="playbook/private-repository-auth.html">Private Repository Authentication</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="playbook/configure-edit-url.html">Edit URL</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="playbook/configure-asciidoc.html">AsciiDoc</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="playbook/configure-ui.html">UI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="playbook/configure-redirect-facility.html">Redirect Facility</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="playbook/configure-output.html">Output</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="playbook/configure-runtime.html">Runtime</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="playbook/author-mode.html">Create an Author Workspace</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="playbook/use-an-existing-playbook-project.html">Use an Existing Project</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Extend &amp; Customize</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="pipeline/supported-components.html">Antora Components</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="project/get-help.html">Get Help</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="security-bulletins.html">Security Bulletins</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Project Governance</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="project/release-schedule.html">Release Schedule</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="project/copyright-and-license.html">Copyright and License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Antora</span>
    <span class="version">2.2</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../latest/index.html">Antora</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../latest/index.html">3.0</a>
        </li>
        <li class="version">
          <a href="../2.3/index.html">2.3</a>
        </li>
        <li class="version is-current">
          <a href="index.html">2.2</a>
        </li>
        <li class="version">
          <a href="../2.1/index.html">2.1</a>
        </li>
        <li class="version">
          <a href="../2.0/index.html">2.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../antora-ui-default/index.html">Antora Default UI</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../antora-ui-default/index.html">default</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../latest/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Antora</a></li>
    <li><a href="whats-new.html">What&#8217;s New in Antora 2.2</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">2.2</button>
  <div class="version-menu">
    <a class="version" href="../latest/whats-new.html">3.0</a>
    <a class="version" href="../2.3/whats-new.html">2.3</a>
    <a class="version is-current" href="whats-new.html">2.2</a>
    <a class="version" href="../2.1/whats-new.html">2.1</a>
    <a class="version" href="../2.0/whats-new.html">2.0</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://gitlab.com/antora/antora/edit/v2.2.x/docs/modules/ROOT/pages/whats-new.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">What&#8217;s New in Antora 2.2</h1>
<h1 id="antora-2-2-0" class="sect0"><a class="anchor" href="#antora-2-2-0"></a>Antora 2.2.0</h1>
<div class="openblock partintro">
<div class="content">
<em><strong>Release date:</strong> 2019.11.02 | <strong>Issue label:</strong> <a href="https://gitlab.com/antora/antora/issues?scope=all&amp;state=closed&amp;label_name%5B%5D=%5BVersion%5D%202.2.0" target="_blank" rel="noopener">2.2.0</a></em>
</div>
</div>
<div class="sect1">
<h2 id="resolved-issues"><a class="anchor" href="#resolved-issues"></a>Resolved issues</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="added"><a class="anchor" href="#added"></a>Added</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Issue <a href="https://gitlab.com/antora/antora/issues/219" target="_blank" rel="noopener">#219</a></dt>
<dd>
<p>Generate a robots.txt file if the <code>site.robots</code> key is set in the playbook.</p>
</dd>
<dt class="hdlist1">Issue <a href="https://gitlab.com/antora/antora/issues/292" target="_blank" rel="noopener">#292</a></dt>
<dd>
<p>Allow edit URL to be configured from pattern or disabled in playbook using the <code>edit_url</code> key on the content category or specific content source.
Additionally, store the edit URL and file URI independently so both values are accessible via the UI model.</p>
</dd>
<dt class="hdlist1">Issue <a href="https://gitlab.com/antora/antora/issues/374" target="_blank" rel="noopener">#374</a></dt>
<dd>
<p>Prune stale branches and tags when fetching repository updates.</p>
</dd>
<dt class="hdlist1">Issue <a href="https://gitlab.com/antora/antora/issues/412" target="_blank" rel="noopener">#412</a></dt>
<dd>
<p>Add support for <code>lines</code> attribute on include directive, which can be used to filter lines by line numbers or line number ranges.</p>
</dd>
<dt class="hdlist1">Issue <a href="https://gitlab.com/antora/antora/issues/497" target="_blank" rel="noopener">#497</a></dt>
<dd>
<p>Preserve stack from original clone error thrown by git client.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="changed"><a class="anchor" href="#changed"></a>Changed</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Issue <a href="https://gitlab.com/antora/antora/issues/476" target="_blank" rel="noopener">#476</a></dt>
<dd>
<p>Upgrade git client (isomorphic-git); new index cache may improve performance.</p>
</dd>
<dt class="hdlist1">Issue <a href="https://gitlab.com/antora/antora/issues/487" target="_blank" rel="noopener">#487</a></dt>
<dd>
<p>Make <code>page-partial</code> attribute obsolete.</p>
</dd>
<dt class="hdlist1">Issue <a href="https://gitlab.com/antora/antora/issues/505" target="_blank" rel="noopener">#505</a></dt>
<dd>
<p>Be more strict about detecting semantic component versions when sorting.</p>
</dd>
<dt class="hdlist1">Issue <a href="https://gitlab.com/antora/antora/issues/510" target="_blank" rel="noopener">#510</a></dt>
<dd>
<p>The <code>tags</code> and <code>branches</code> keys override the inherited (global) value even if the values are falsy.</p>
</dd>
<dt class="hdlist1">Issue <a href="https://gitlab.com/antora/antora/issues/513" target="_blank" rel="noopener">#513</a></dt>
<dd>
<p>Clean embedded auth from remote URL resolved from git config of local repository.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="customizable-edit-url"><a class="anchor" href="#customizable-edit-url"></a>Customizable edit URL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, Antora automatically computes the edit URL for all files it takes from a remote repository or a local repository connected to a remote repository, if possible.
&#8220;If possible&#8221; means this works if the remote repository is located on the primary GitHub, GitLab, Bitbucket, or Pagure hosted services.
What was lacking in previous versions of Antora was support for other git hosts (e.g., on-prem GitLab) or to be able to customize or disable the value.
If the automatic value of the edit URL doesn&#8217;t work in your case, you can now customize it.</p>
</div>
<div class="paragraph">
<p>You can use the <code>edit_url</code> key in the playbook to control the edit URL.
This optional key can be set directly on the <code>content</code> category to apply to all content sources or on an individual content source entry to override that inherited value.</p>
</div>
<div class="paragraph">
<p>By default, the value of the <code>edit_url</code> is <code>true</code>.
This value tells Antora to use the existing, built-in behavior of computing the edit URL automatically.</p>
</div>
<div class="paragraph">
<p>If the value of the <code>edit_url</code> is a string, it&#8217;s interpreted as a pattern.
That pattern supports the following placeholders, fulfilled by the file&#8217;s origin information:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">{web_url}</dt>
<dd>
<p>The web URL of the git repository from which the file was taken.
This value is derived automatically from the repository URL (by converting the protocol to <code>https</code> and dropping the <code>.git</code> extension, if present).</p>
</dd>
<dt class="hdlist1">{refname}</dt>
<dd>
<p>The name of the reference (i.e., branch or tag) in the git repository from which the file was taken.</p>
</dd>
<dt class="hdlist1">{path}</dt>
<dd>
<p>The path of the file from the root of the git repository (regardless of whether the content source defines a <code>start_path</code>).</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>For example, to configure the edit URL to point to the view page of a file on GitLab, you&#8217;d use the following entry:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">content:
  sources:
  - url: https://gitlab.com/antora/antora.git
    edit_url: '{web_url}/blob/{refname}/{path}'</code></pre>
</div>
</div>
<div class="paragraph">
<p>To disable the edit URL instead, set the value to tilde (<code>~</code>) or <code>false</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">content:
  edit_url: false</code></pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">content:
  sources:
  - url: https://gitlab.com/antora/antora.git
    edit_url: false</code></pre>
</div>
</div>
<div class="paragraph">
<p>As part of this change, the edit URL no longer points to the file URI when a file is taken from the worktree (local file tree).
Instead, the file URI is stored separately.
Both values are passed to the UI model as <code>editUrl</code> and <code>fileUri</code>, respectively.
This gives the UI template control over whether to use the file URI when available, or whether to ignore it and use the edit URL instead.</p>
</div>
<div class="paragraph">
<p>The default UI has been updated to use the value of the <code>fileUri</code> for the edit link if set <em>and</em> the <code>CI</code> environment variable is not set (i.e., <code>(and page.fileUri (not env.CI))</code>).
Otherwise, it falls back to using the <code>editUrl</code> if the repository is public (i.e., <code>(and page.editUrl (not page.origin.private))</code>).
This update allows the default UI to work with Antora 2.2 as well as earlier versions.</p>
</div>
<div class="paragraph">
<p>To find out all the details about how this feature works, please refer to the <a href="playbook/configure-edit-url.html" class="xref page">edit URL configuration page</a> in the documentation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="robots-txt-generation"><a class="anchor" href="#robots-txt-generation"></a>robots.txt generation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you put a static site online, you want to provide a hint to search engines about where to crawl when indexing the site.
Sometimes, you want to give them free rein.
Other times, you want to tell them to back off entirely.
Or, you may want to restrict access to certain portions of the site.
That&#8217;s the role of the <a href="https://en.wikipedia.org/wiki/Robots_exclusion_standard">robots.txt file</a>, found at the root of the site.</p>
</div>
<div class="paragraph">
<p>You can now use the <code>site.robots</code> key in the playbook file to instruct Antora to generate the <em class="path">robots.txt</em> file.</p>
</div>
<div class="paragraph">
<p>If you want to grant full access, set the value to <code>allow</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">site:
  robots: allow</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to forbid access, set the value to <code>disallow</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">site:
  robots: disallow</code></pre>
</div>
</div>
<div class="paragraph">
<p>Any other value will be used as the contents of the <em class="path">robots.txt</em> file.
For more details, see <a href="playbook/configure-site.html#configure-robots" class="xref page">configuring the robots.txt file</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="all-pages-can-be-included-by-default"><a class="anchor" href="#all-pages-can-be-included-by-default"></a>All pages can be included by default</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Previously, to include a page (i.e., an AsciiDoc file inside the pages directory), it was necessary to mark that page as a partial.
You&#8217;d mark a page as a partial by declaring the <code>page-partial</code> attribute in the document header.
As of this release, you can use any page in the include directive by default.
In other words, <strong>you no longer have to worry about marking individual pages as partials</strong>.
(Under the covers, Antora automatically sets the <code>page-partial</code> attribute globally).</p>
</div>
<div class="paragraph">
<p>If you want to restore the previous behavior, add the following configuration to your playbook file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">asciidoc:
  attributes:
    page-partial: false</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you make this change, you&#8217;ll again need to mark any page you want to include using the <code>page-partial</code>.
You may decide to revert to the previous behavior as an optimization, since it uses slightly less memory.
You can find more details about this setting in the <a href="asciidoc/include-page.html#page-partial" class="xref page">documentation for the page-partial attribute</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="filter-includes-by-line-numbers"><a class="anchor" href="#filter-includes-by-line-numbers"></a>Filter includes by line numbers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In addition to filtering the lines of an include file by named tags, you can now filter lines by line numbers.
This AsciiDoc feature has long been available in Asciidoctor, but was not enabled in Antora.</p>
</div>
<div class="paragraph">
<p>Line numbers are specified by the value of the <code>lines</code> attribute on the include directive.
Line numbers, which start at 1, can be identified as individual entries or as a range.
Multiple entries can be separated either by semi-colons or commas.</p>
</div>
<div class="paragraph">
<p>For example, here&#8217;s how you&#8217;d select the first line of this page:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">include::./whats-new.adoc[lines=1]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here&#8217;s how you&#8217;d select lines 2 through 10:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">include::./whats-new.adoc[lines=2..10]</code></pre>
</div>
</div>
<div class="paragraph">
<p>And here&#8217;s how you&#8217;d select the first line, and all the remaining lines starting at line 10:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">include::./whats-new.adoc[lines=1;10..]</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information about the <code>lines</code> attribute on the include directive, refer to the <a href="https://asciidoctor.org/docs/user-manual/#by-line-ranges">include by line ranges</a> section in the Asciidoctor user manual.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prune-references"><a class="anchor" href="#prune-references"></a>Prune references</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you pass the <code>--fetch</code> flag to the <code>antora</code> command or set the <code>runtime.fetch</code> key in the playbook file to true, Antora fetches updates from all the remote git repositories.
However, it wasn&#8217;t removing references (branches and tags) that had been deleted from the remote repository.
Antora would still discover these references due to the stale cache.
In addition to publishing content that was supposed to be removed, Antora could also fail if it found the same file in two different references (the pesky duplicate nav or page errors).</p>
</div>
<div class="paragraph">
<p>Now, Antora does a complete sync.
When Antora reaches out to the remote repositories for updates, it will remove any references in the cache that have been removed from the remote repository.
There&#8217;s nothing you need to do to enable this feature.
It&#8217;s automatic.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="disable-tags-or-branches"><a class="anchor" href="#disable-tags-or-branches"></a>Disable tags or branches</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To disable either tags or branches for a content source entry, you used to have to set the value to an empty array:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">content:
  sources:
  - url: https://git.example.org/org/repo.git
    branches: []</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now you can use the value tilde (<code>~</code>), which is short for <code>null</code> (aka nothing).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">content:
  sources:
  - url: https://git.example.org/org/repo.git
    branches: ~</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the <code>tags</code> or <code>branches</code> key is present on a content source entry, that value takes precedence, regardless of what the value is.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="thank-you-2-2-0"><a class="anchor" href="#thank-you-2-2-0"></a>Thank you!</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Most important of all, a huge <strong>thank you!</strong> to all the folks who helped make Antora even better.</p>
</div>
<div class="paragraph">
<p>We want to call out the following people for making contributions to this release:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">David Jencks (<a href="https://gitlab.com/djencks" target="_blank" rel="noopener">@djencks</a>)</dt>
<dd>
<p>For implementing the <em class="path">robots.txt</em> generation <a href="https://gitlab.com/antora/antora/issues/219" target="_blank" rel="noopener">#219</a>, for helping to get to the bottom of <a href="https://gitlab.com/antora/antora/issues/497" target="_blank" rel="noopener">#497</a> and come up with a solution, and for helping to improve the documentation.</p>
</dd>
<dt class="hdlist1">Imran Iqbal (<a href="https://gitlab.com/myii" target="_blank" rel="noopener">@myii</a>)</dt>
<dd>
<p>Update site navigation to place &#8220;Navigation Content &amp; Link Formatting&#8221; at the correct hierarchical level.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deprecation"><a class="anchor" href="#deprecation"></a>Scheduled deprecations for Antora 3.0</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The ability to use parent references in the target of the AsciiDoc image macro (e.g., <code>image::../../../module-b/_images/image-filename.png[]</code>) will be deprecated in Antora 3.0.
You should begin replacing any such image targets with resource IDs.</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="index.html">Antora</a></span>
  <span class="next"><a href="features.html">How Antora Can Help</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>Copyright © <a href="https://opendevise.com">OpenDevise Inc.</a> and individual contributors to <a href="https://antora.org">Antora</a>.</p>
  <p>Except where otherwise noted, docs.antora.org, Antora, and the Antora UI, are licensed under the <a href="https://www.mozilla.org/en-US/MPL/2.0/">Mozilla Public License Version 2.0</a> (MPL-2.0).</p>
  <p>AsciiDoc® is a trademark of the Eclipse Foundation, Inc.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
